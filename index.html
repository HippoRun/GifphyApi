<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Cute Animals</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="style.css" /> -->
    <script src="main.js"></script>

</head>
<body>
        <button data-cuteAnimal="hippo">hippo</button>
        <button data-cuteAnimal="emmu">emmu</button>
        <button data-cuteAnimal="puppy">puppy</button>
        <div id="gifs-appear-here">
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script type="text/javascript">

    // click event listen listener to all buttons
    $("#button").on("click", function() {

    // Grabbing and storing the data-animal property value from the button
    var cuteAnimals = $(this).attr("data-cuteAnimals");

    // Creating queryURL using the animal name
    var queryURL = "https://api.giphy.com/v1/gifs/search?q=" +
        cuteAnimals + "&api_key=X3lQMFVyJmL95OOJuO2fAKqWg0G8j3Se";
    
     // access APIA via ajax method - making a request for data
    $.ajax({
        url: queryURL,
        method: "GET"
    })

    // do this once the response is available
      .then(function(response){
          console.log(queryURL);

          console.log(response);
        
    // storing the url from the response
        var results = response.data;

        //for loop for each item
        for (var i = 0; i < results.length; i++) {

        // creating & storing div tag
          var cuteAnimalDiv = $("<div>");

        // p tag for rating
        var p = $("<p>").text("Rating: " + results[i].rating);

        // Creating and storing an image tag
        var cuteAnimalImage = $("<img>");
          
            // Setting the src attribute of the image to a property pulled off the result item
            animalImage.attr("src", results[i].images.fixed_height.url);

            // Appending the paragraph and image tag to the animalDiv
            cuteAnimalDiv.append(p);
            cuteAnimalDiv.append(animalImage);

            // Prependng the animalDiv to the HTML page in the "#gifs-appear-here" div
            $("#gifs-appear-here").prepend(cuteAnimalDiv);
          }
        });
    });
  </script>
</body>

</html>
